# Конфигурация recipient сервиса

service:
  name: recipient
  version: 1.0.0

# Настройки MQTT брокера
mqtt:
  broker: tcp://10.0.142.127:1883 # Адрес MQTT брокера
  client_id: recipient-001 # Уникальный ID клиента
  username: "DM" # Имя пользователя (если требуется)
  password: "DM" # Пароль (если требуется)
  topic: test/messages # Топик для подписки на сообщения
  qos: 1 # Quality of Service: 0 (at most once), 1 (at least once), 2 (exactly once)
  clean_session: false # Сохранять состояние сессии при переподключении
  keep_alive: 60s # Интервал keep-alive пингов
  connect_timeout: 30s # Таймаут подключения к брокеру
  max_reconnect_interval: 10m # Максимальный интервал между попытками переподключения
  auto_reconnect: true # Автоматическое переподключение при потере связи
  order_matters: true # Сохранять порядок сообщений
  store_directory: /tmp/mqtt-recipient-store # Директория для хранения состояния
  max_inflight: 100 # Максимальное количество сообщений в обработке одновременно

# Настройки TCP сервера
tcp:
  enabled: true # Включить TCP сервер для приема данных
  address: :9999 # Адрес для прослушивания (host:port)
  max_connections: 100 # Максимальное количество одновременных подключений
  read_timeout: 60s # Таймаут чтения данных
  write_timeout: 60s # Таймаут записи данных
  keep_alive: true # Использовать TCP keep-alive
  keep_alive_period: 30s # Период отправки keep-alive пакетов

# Настройки логирования
logger:
  level: info # debug, info, warn, error
  file_path: logs/recipient.log
  max_size: 100 # MB
  max_backups: 5
  max_age: 30 # days
  compress: true
  console: true # также выводить в консоль

# Настройки метрик и health checks
metrics:
  enabled: true
  path: /metrics
  port: 8081 # порт для метрик и health checks
