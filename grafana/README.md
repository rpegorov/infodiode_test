# Grafana Dashboards for InfoDiode Testing

–ù–∞–±–æ—Ä –¥–∞—à–±–æ—Ä–¥–æ–≤ –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –∏ –∞–Ω–∞–ª–∏–∑–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ —Å–∏—Å—Ç–µ–º—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏–Ω—Ñ–æ–¥–∏–æ–¥–∞.

## –û–ø–∏—Å–∞–Ω–∏–µ –¥–∞—à–±–æ—Ä–¥–æ–≤

### 1. Overview Dashboard
**–§–∞–π–ª:** `dashboards/overview-dashboard.json`  
**UID:** `infodiode-overview`

–û–±—â–∏–π –æ–±–∑–æ—Ä —Å–æ—Å—Ç–æ—è–Ω–∏—è —Å–∏—Å—Ç–µ–º—ã:
- –°—Ç–∞—Ç—É—Å –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ (Sender/Recipient)
- **–¶–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö** - –ø—Ä–æ—Ü–µ–Ω—Ç –≤–∞–ª–∏–¥–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π
- **–ü–æ—Ç–µ—Ä–∏ —Å–æ–æ–±—â–µ–Ω–∏–π** - –ø—Ä–æ—Ü–µ–Ω—Ç –ø–æ—Ç–µ—Ä—è–Ω–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π
- –°—Ä–∞–≤–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –≥—Ä–∞—Ñ–∏–∫–∏ –æ—Ç–ø—Ä–∞–≤–∫–∏ –∏ –ø–æ–ª—É—á–µ–Ω–∏—è
- –°–≤–æ–¥–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ —Å–æ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–æ–π —Ç–µ—Å—Ç–∞
- End-to-end –∑–∞–¥–µ—Ä–∂–∫–∏
- –û–±—â–∞—è –ø—Ä–æ–ø—É—Å–∫–Ω–∞—è —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å —Å–∏—Å—Ç–µ–º—ã

### 2. Sender Dashboard
**–§–∞–π–ª:** `dashboards/sender-dashboard.json`  
**UID:** `infodiode-sender`

–î–µ—Ç–∞–ª—å–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏ –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—è:
- –°—Ç–∞—Ç—É—Å —Å–µ—Ä–≤–∏—Å–∞ –∏ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å —Ç–µ—Å—Ç–∞
- –°–∫–æ—Ä–æ—Å—Ç—å –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π (—Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∞—è vs —Ü–µ–ª–µ–≤–∞—è)
- –û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π
- –ü—Ä–æ–ø—É—Å–∫–Ω–∞—è —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å –≤ –±–∞–π—Ç–∞—Ö/—Å–µ–∫
- –ó–∞–¥–µ—Ä–∂–∫–∏ –æ—Ç–ø—Ä–∞–≤–∫–∏ (p50, p95, p99)
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∞–∫—Ç–∏–≤–Ω—ã—Ö –ø–æ—Ç–æ–∫–æ–≤
- –ì–ª—É–±–∏–Ω–∞ –æ—á–µ—Ä–µ–¥–∏ MQTT
- –°—á–µ—Ç—á–∏–∫–∏ –æ—à–∏–±–æ–∫

### 3. Recipient Dashboard
**–§–∞–π–ª:** `dashboards/recipient-dashboard.json`  
**UID:** `infodiode-recipient`

–î–µ—Ç–∞–ª—å–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏ –ø–æ–ª—É—á–∞—Ç–µ–ª—è:
- –°—Ç–∞—Ç—É—Å —Å–µ—Ä–≤–∏—Å–∞
- **Data Integrity Gauge** - –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç–∏ –¥–∞–Ω–Ω—ã—Ö
- –°–∫–æ—Ä–æ—Å—Ç—å –ø–æ–ª—É—á–µ–Ω–∏—è –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π
- –°—á–µ—Ç—á–∏–∫–∏ –≤–∞–ª–∏–¥–Ω—ã—Ö/–Ω–µ–≤–∞–ª–∏–¥–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π
- –î–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—è –æ—à–∏–±–æ–∫ –∫–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã—Ö —Å—É–º–º
- –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∑–∞–¥–µ—Ä–∂–µ–∫ (heatmap + percentiles)
- –ü—Ä–æ–ø—É—Å–∫–Ω–∞—è —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å –ø–æ–ª—É—á–µ–Ω–∏—è
- –ß–∞—Å—Ç–æ—Ç–∞ –æ—à–∏–±–æ–∫ –≤ –º–∏–Ω—É—Ç—É

## –ó–∞–ø—É—Å–∫ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞

### 1. –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å—Ç–µ–∫ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
```bash
docker-compose --profile monitoring up -d
```

### 2. –ó–∞–ø—É—Å—Ç–∏—Ç—å –ø–æ–ª–Ω—ã–π —Å—Ç–µ–∫ (—Å sender –∏ recipient)
```bash
docker-compose --profile monitoring --profile full up -d
```

### 3. –î–æ—Å—Ç—É–ø –∫ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞–º
- **Grafana:** http://localhost:3000
  - –õ–æ–≥–∏–Ω: `admin`
  - –ü–∞—Ä–æ–ª—å: `admin`
- **Prometheus:** http://localhost:9090

## –ö–ª—é—á–µ–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏

### –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –º–µ—Ç—Ä–∏–∫–∏ –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞

| –ú–µ—Ç—Ä–∏–∫–∞ | –û–ø–∏—Å–∞–Ω–∏–µ | –ù–æ—Ä–º–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ | –¢—Ä–µ–≤–æ–≥–∞ |
|---------|----------|-------------------|---------|
| Data Integrity | –ü—Ä–æ—Ü–µ–Ω—Ç –≤–∞–ª–∏–¥–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π | >99.9% | <99% |
| Message Loss | –ü—Ä–æ—Ü–µ–Ω—Ç –ø–æ—Ç–µ—Ä—è–Ω–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π | <0.1% | >1% |
| Avg Latency | –°—Ä–µ–¥–Ω—è—è –∑–∞–¥–µ—Ä–∂–∫–∞ –ø–µ—Ä–µ–¥–∞—á–∏ | <50ms | >200ms |
| Throughput | –°–∫–æ—Ä–æ—Å—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π | –ó–∞–≤–∏—Å–∏—Ç –æ—Ç —Ç–µ—Å—Ç–∞ | <80% –æ—Ç —Ü–µ–ª–µ–≤–æ–π |
| Checksum Errors | –û—à–∏–±–∫–∏ –∫–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã—Ö —Å—É–º–º | 0 | >10/–º–∏–Ω |

### –ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—è –ø–æ–∫–∞–∑–∞—Ç–µ–ª–µ–π

#### üü¢ –ó–µ–ª–µ–Ω–∞—è –∑–æ–Ω–∞ (–æ—Ç–ª–∏—á–Ω–∞—è —Ä–∞–±–æ—Ç–∞)
- Data Integrity: 100%
- Message Loss: 0%
- Latency: <30ms
- –í—Å–µ —Å–µ—Ä–≤–∏—Å—ã –∞–∫—Ç–∏–≤–Ω—ã

#### üü° –ñ–µ–ª—Ç–∞—è –∑–æ–Ω–∞ (—Ç—Ä–µ–±—É–µ—Ç –≤–Ω–∏–º–∞–Ω–∏—è)
- Data Integrity: 99-99.9%
- Message Loss: 0.1-1%
- Latency: 50-200ms
- –ï–¥–∏–Ω–∏—á–Ω—ã–µ –æ—à–∏–±–∫–∏

#### üî¥ –ö—Ä–∞—Å–Ω–∞—è –∑–æ–Ω–∞ (–∫—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–±–ª–µ–º–∞)
- Data Integrity: <99%
- Message Loss: >1%
- Latency: >200ms
- –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –æ—à–∏–±–∫–∏ –∏–ª–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å —Å–µ—Ä–≤–∏—Å–æ–≤

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∞–ª–µ—Ä—Ç–æ–≤

### –ü—Ä–∏–º–µ—Ä –ø—Ä–∞–≤–∏–ª–∞ –∞–ª–µ—Ä—Ç–∞ –¥–ª—è Prometheus

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `prometheus/alert_rules.yml`:

```yaml
groups:
  - name: infodiode_alerts
    rules:
      - alert: HighMessageLoss
        expr: ((messages_sent_total{job="sender"} - messages_received_total{job="recipient"}) / messages_sent_total{job="sender"}) * 100 > 1
        for: 5m
        labels:
          severity: critical
        annotations:
          summary: "–í—ã—Å–æ–∫–∏–µ –ø–æ—Ç–µ—Ä–∏ —Å–æ–æ–±—â–µ–Ω–∏–π (>1%)"
          description: "–ü–æ—Ç–µ—Ä–∏ —Å–æ–æ–±—â–µ–Ω–∏–π —Å–æ—Å—Ç–∞–≤–ª—è—é—Ç {{ $value }}%"
      
      - alert: LowDataIntegrity
        expr: (messages_valid_total{job="recipient"} / messages_received_total{job="recipient"}) * 100 < 99
        for: 5m
        labels:
          severity: critical
        annotations:
          summary: "–ù–∏–∑–∫–∞—è —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö (<99%)"
          description: "–¶–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö —Å–æ—Å—Ç–∞–≤–ª—è–µ—Ç {{ $value }}%"
      
      - alert: HighLatency
        expr: rate(message_latency_ms_sum{job="recipient"}[5m]) / rate(message_latency_ms_count{job="recipient"}[5m]) > 200
        for: 10m
        labels:
          severity: warning
        annotations:
          summary: "–í—ã—Å–æ–∫–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞ –ø–µ—Ä–µ–¥–∞—á–∏ (>200ms)"
          description: "–°—Ä–µ–¥–Ω—è—è –∑–∞–¥–µ—Ä–∂–∫–∞ —Å–æ—Å—Ç–∞–≤–ª—è–µ—Ç {{ $value }}ms"
```

## –ö–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è –¥–∞—à–±–æ—Ä–¥–æ–≤

### –ò–∑–º–µ–Ω–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–Ω–æ–≥–æ –æ–∫–Ω–∞
–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –¥–∞—à–±–æ—Ä–¥—ã –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç –ø–æ—Å–ª–µ–¥–Ω–∏–π —á–∞—Å. –í—ã –º–æ–∂–µ—Ç–µ –∏–∑–º–µ–Ω–∏—Ç—å —ç—Ç–æ –≤ –≤–µ—Ä—Ö–Ω–µ–º –ø—Ä–∞–≤–æ–º —É–≥–ª—É Grafana.

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã—Ö –ø–∞–Ω–µ–ª–µ–π
1. –û—Ç–∫—Ä–æ–π—Ç–µ –¥–∞—à–±–æ—Ä–¥ –≤ Grafana
2. –ù–∞–∂–º–∏—Ç–µ "Add panel"
3. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∑–∞–ø—Ä–æ—Å –∫ Prometheus
4. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –¥–∞—à–±–æ—Ä–¥

### –≠–∫—Å–ø–æ—Ä—Ç –¥–∞—à–±–æ—Ä–¥–æ–≤
1. –û—Ç–∫—Ä–æ–π—Ç–µ –¥–∞—à–±–æ—Ä–¥ –≤ Grafana
2. –ù–∞–∂–º–∏—Ç–µ –Ω–∞ –∏–∫–æ–Ω–∫—É –Ω–∞—Å—Ç—Ä–æ–µ–∫ (‚öôÔ∏è)
3. –í—ã–±–µ—Ä–∏—Ç–µ "JSON Model"
4. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ JSON –∏ —Å–æ—Ö—Ä–∞–Ω–∏—Ç–µ –≤ —Ñ–∞–π–ª

## –ú–µ—Ç—Ä–∏–∫–∏ Prometheus

### Sender –º–µ—Ç—Ä–∏–∫–∏
- `messages_sent_total` - –æ–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π
- `bytes_sent_total` - –æ–±—â–∏–π –æ–±—ä–µ–º –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- `sender_errors_total` - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—à–∏–±–æ–∫ –æ—Ç–ø—Ä–∞–≤–∫–∏
- `sender_send_duration_milliseconds` - –≥–∏—Å—Ç–æ–≥—Ä–∞–º–º–∞ –≤—Ä–µ–º–µ–Ω–∏ –æ—Ç–ø—Ä–∞–≤–∫–∏
- `sender_test_active` - —Å—Ç–∞—Ç—É—Å –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ —Ç–µ—Å—Ç–∞ (0/1)
- `sender_target_rate` - —Ü–µ–ª–µ–≤–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å –æ—Ç–ø—Ä–∞–≤–∫–∏
- `sender_active_threads` - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∞–∫—Ç–∏–≤–Ω—ã—Ö –ø–æ—Ç–æ–∫–æ–≤
- `mqtt_queue_depth` - –≥–ª—É–±–∏–Ω–∞ –æ—á–µ—Ä–µ–¥–∏ MQTT

### Recipient –º–µ—Ç—Ä–∏–∫–∏
- `messages_received_total` - –æ–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–ª—É—á–µ–Ω–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π
- `messages_processed_total` - –æ–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π
- `messages_valid_total` - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤–∞–ª–∏–¥–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π
- `messages_invalid_total` - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –Ω–µ–≤–∞–ª–∏–¥–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π
- `checksum_errors_total` - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—à–∏–±–æ–∫ –∫–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã—Ö —Å—É–º–º
- `processing_errors_total` - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—à–∏–±–æ–∫ –æ–±—Ä–∞–±–æ—Ç–∫–∏
- `bytes_received_total` - –æ–±—â–∏–π –æ–±—ä–µ–º –ø–æ–ª—É—á–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- `message_latency_ms` - –≥–∏—Å—Ç–æ–≥—Ä–∞–º–º–∞ –∑–∞–¥–µ—Ä–∂–µ–∫ —Å–æ–æ–±—â–µ–Ω–∏–π
- `throughput_messages_per_second` - —Ç–µ–∫—É—â–∞—è –ø—Ä–æ–ø—É—Å–∫–Ω–∞—è —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å

## Troubleshooting

### –î–∞—à–±–æ—Ä–¥—ã –Ω–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Ñ–∞–π–ª—ã –¥–∞—à–±–æ—Ä–¥–æ–≤ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ `./grafana/dashboards/`
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ —Ñ–∞–π–ª–∞–º
3. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ Grafana: `docker-compose restart grafana`

### –ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö –≤ –¥–∞—à–±–æ—Ä–¥–∞—Ö
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ Prometheus —Å–æ–±–∏—Ä–∞–µ—Ç –º–µ—Ç—Ä–∏–∫–∏: http://localhost:9090/targets
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ sender –∏ recipient –∑–∞–ø—É—â–µ–Ω—ã
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏: `docker-compose logs prometheus`

### –û—à–∏–±–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ Prometheus
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ Prometheus –∑–∞–ø—É—â–µ–Ω: `docker ps | grep prometheus`
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é datasource –≤ Grafana
3. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –≤ –æ–¥–Ω–æ–π —Å–µ—Ç–∏

## –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –¥–ª—è –±–æ–ª—å—à–∏—Ö –Ω–∞–≥—Ä—É–∑–æ–∫
- –£–º–µ–Ω—å—à–∏—Ç–µ `scrape_interval` –≤ prometheus.yml –¥–ª—è –±–æ–ª–µ–µ —á–∞—Å—Ç–æ–≥–æ —Å–±–æ—Ä–∞ –º–µ—Ç—Ä–∏–∫
- –£–≤–µ–ª–∏—á—å—Ç–µ retention –ø–µ—Ä–∏–æ–¥ –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö
- –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∞–≥—Ä–µ–≥–∞—Ü–∏—é –º–µ—Ç—Ä–∏–∫ –¥–ª—è –¥–æ–ª–≥–æ—Å—Ä–æ—á–Ω–æ–≥–æ —Ö—Ä–∞–Ω–µ–Ω–∏—è

### –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ —Ä–µ—Å—É—Ä—Å—ã
- **Prometheus:** –º–∏–Ω–∏–º—É–º 1GB RAM, 10GB –¥–∏—Å–∫–∞
- **Grafana:** –º–∏–Ω–∏–º—É–º 512MB RAM, 1GB –¥–∏—Å–∫–∞

## –ü–æ–ª–µ–∑–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã PromQL

### –ü—Ä–æ—Ü–µ–Ω—Ç –ø–æ—Ç–µ—Ä—å –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 5 –º–∏–Ω—É—Ç
```promql
100 * (1 - (rate(messages_received_total[5m]) / rate(messages_sent_total[5m])))
```

### –°—Ä–µ–¥–Ω—è—è –∑–∞–¥–µ—Ä–∂–∫–∞ –∑–∞ —á–∞—Å
```promql
rate(message_latency_ms_sum[1h]) / rate(message_latency_ms_count[1h])
```

### –°–∫–æ—Ä–æ—Å—Ç—å –æ—à–∏–±–æ–∫
```promql
rate(checksum_errors_total[1m]) * 60
```

### –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –ø–µ—Ä–µ–¥–∞—á–∏
```promql
(messages_valid_total / messages_sent_total) * 100
```

## –°—Å—ã–ª–∫–∏

- [Grafana Documentation](https://grafana.com/docs/)
- [Prometheus Documentation](https://prometheus.io/docs/)
- [PromQL Examples](https://prometheus.io/docs/prometheus/latest/querying/examples/)